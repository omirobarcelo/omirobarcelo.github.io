import{d as x,r as w,b as E,e as r,o as s,c as t,a as o,n as v,u as n,t as i,f as I,w as V,g as C,R,p as S,h as D,_ as T}from"./index-DWk_Uv7a.js";import{c as a}from"./cookbook-entry.store-Dj3aeCTs.js";const _=d=>(S("data-v-d7f6e612"),d=d(),D(),d),N={class:"layout-container"},B={class:"page"},M={class:"nav mb-4"},P=["disabled"],z={key:0,class:"skeleton h-8"},A={key:1,class:"text-lg font-medium"},F=["disabled"],L={class:"nav"},$={key:0,class:"skeleton h-8 mb-3"},j={key:1,class:"mb-3"},q=_(()=>o("button",{class:"btn primary"},"Add note",-1)),G={class:"text mb-3"},H=_(()=>o("span",{class:"label"},"Cooking Time: ",-1)),J={key:0,class:"skeleton"},K={key:1},O=_(()=>o("p",{class:"text mb-3"},[o("strong",null,"Ingredients:")],-1)),Q={key:0,class:"skeleton clear full mb-3 h-10"},U={key:1,class:"text-block mb-3"},W=_(()=>o("p",{class:"text mb-3"},[o("strong",null,"Steps:")],-1)),X={key:2,class:"skeleton clear full h-10"},Y={key:3,class:"text-block"},Z=x({__name:"RecipeDetailView",setup(d){const y=C(),c=w(0),u=y.params.id;E(()=>{(a.cookbookEntry==null||a.cookbookEntry.id!==u)&&a.load(u)});const b=r(()=>{var e;return(e=a.cookbookEntry)==null?void 0:e.history[c.value].date}),l=r(()=>{var e;return(e=a.cookbookEntry)==null?void 0:e.history[c.value].recipe}),p=r(()=>{let e=0,m=0;return l.value!=null&&(e=Math.floor(l.value.cookingTime/60),m=l.value.cookingTime%60),{hours:e,minutes:m}}),h=r(()=>c.value>0),k=r(()=>{var e;return c.value<(((e=a.cookbookEntry)==null?void 0:e.history.length)??0)-1}),f=()=>{h.value&&(c.value-=1)},g=()=>{k.value&&(c.value+=1)};return(e,m)=>(s(),t("div",N,[o("main",B,[o("div",M,[o("button",{onClick:f,disabled:!h.value,class:v(["btn secondary",{"cursor-not-allowed opacity-50":!h.value}])}," ← Previous ",10,P),n(a).loading?(s(),t("div",z)):(s(),t("p",A,i(new Intl.DateTimeFormat(void 0,{year:"numeric",month:"long",day:"2-digit",weekday:"long"}).format(b.value)),1)),o("button",{onClick:g,disabled:!k.value,class:v(["btn secondary",{"cursor-not-allowed opacity-50":!k.value}])}," Next → ",10,F)]),o("div",L,[n(a).loading?(s(),t("div",$)):(s(),t("h1",j,i(l.value.name),1)),I(n(R),{to:{name:"recipe-add",params:{id:n(u)}}},{default:V(()=>[q]),_:1},8,["to"])]),o("p",G,[H,n(a).loading?(s(),t("span",J,"______________")):(s(),t("span",K,i(p.value.hours>0?`${p.value.hours} hours `:"")+i(p.value.minutes)+" minutes ",1))]),O,n(a).loading?(s(),t("pre",Q)):(s(),t("pre",U,i(l.value.ingredients),1)),W,n(a).loading?(s(),t("pre",X)):(s(),t("pre",Y,i(l.value.steps),1))])]))}}),se=T(Z,[["__scopeId","data-v-d7f6e612"]]);export{se as default};
